<!--
/*
 * Copyright 2019 Gregg Tavares
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 */
-->
<!DOCTYPE html>
<html>
<head>
    <title>Gamepad to MIDI Controller</title>
    <style>
        body {
            background: #444;
            color: white;
            font-family: monospace;
            margin: 0;
            padding: 20px;
        }

        .header {
            background: #333;
            padding: 1em;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .midi-controls {
            background: #333;
            padding: 1em;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .midi-controls h3 {
            margin-top: 0;
        }

        .midi-device-selector {
            margin: 10px 0;
        }

        .midi-device-selector select {
            background: #222;
            color: white;
            border: 1px solid #666;
            padding: 5px;
            font-family: monospace;
        }

        .midi-status {
            margin: 10px 0;
            padding: 10px;
            background: #222;
            border-radius: 3px;
        }

        .status-connected { background: #0a4d0a; }
        .status-disconnected { background: #4d0a0a; }

        #gamepads>* {
            background: #333;
            padding: 1em;
            margin: 10px 5px 0 0;
            border-radius: 5px;
        }

        #gamepads pre {
            white-space: pre-wrap;
        }

        .head {
            display: flex;
        }
        .head .id {
            flex: 1 1 auto;
        }
        .head .index,
        .head .id {
            display: inline-block;
            background: #222;
            padding: 0.5em;
        }

        .info .label {
            width: 7em;
            display: inline-block;
        }
        .info>div {
            padding: 0.25em;
            background: #222;
            margin: 0.25em 0.25em 0 0;
        }

        .inputs {
            display: flex;
            flex-wrap: wrap;
        }
        .axes {
            display: flex;
            align-items: flex-start;
            flex-wrap: wrap;
        }

        .svg text {
            color: #CCC;
            font-family: monospace;
        }

        .axes svg text {
            font-size: 0.6px;
        }
        .buttons svg text {
            font-size: 1.2px;
        }
        .axes>div, .buttons>div {
            display: inline-block;
            background: #222;
            margin: 2px;
            border-radius: 3px;
        }

        .axis-controls, .button-controls {
            margin: 10px 0;
            padding: 10px;
            background: #2a2a2a;
            border-radius: 3px;
        }

        .control-row {
            display: flex;
            align-items: center;
            margin: 5px 0;
            gap: 10px;
        }

        .control-row label {
            min-width: 80px;
        }

        .control-row input, .control-row select {
            background: #222;
            color: white;
            border: 1px solid #666;
            padding: 3px;
            font-family: monospace;
        }

        .midi-value {
            color: #0f0;
            font-weight: bold;
            min-width: 50px;
        }

        .velocity-control {
            width: 60px;
        }

        .note-control, .cc-control {
            width: 80px;
        }

        .enabled-checkbox {
            margin-right: 10px;
        }

        .buttons {
            display: flex;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>

<div class="header">
    <h1>Gamepad to MIDI Controller</h1>
    <div>Status: <span id="running"></span></div>
</div>

<div class="midi-controls">
    <h3>MIDI Configuration</h3>
    <div class="midi-device-selector">
        <label>MIDI Output Device: </label>
        <select id="midiDevice">
            <option value="">Select MIDI Device...</option>
        </select>
    </div>
    <div id="midiStatus" class="midi-status status-disconnected">
        MIDI: Not Connected
    </div>
</div>

<div id="gamepads"></div>

<script src="gamepad-midi.js"></script>
</body>
</html>
